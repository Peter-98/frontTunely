"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4317],{4317:(y,d,l)=>{l.r(d),l.d(d,{SignUpPageModule:()=>x});var g=l(6895),a=l(433),r=l(2078),u=l(1194),m=l(655),t=l(4650),p=l(7556);function c(i,s){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function f(i,s){if(1&i&&(t.ynx(0),t.YNc(1,c,2,1,"div",11),t.BQk()),2&i){const o=s.$implicit,n=t.oxw(2);let e;t.xp6(1),t.Q6J("ngIf",(null==n.formValidation||null==(e=n.formValidation.get("email"))?null:e.hasError(o.type))&&((null==(e=n.formValidation.get("email"))?null:e.dirty)||(null==(e=n.formValidation.get("email"))?null:e.touched)))}}function v(i,s){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function h(i,s){if(1&i&&(t.ynx(0),t.YNc(1,v,2,1,"div",11),t.BQk()),2&i){const o=s.$implicit,n=t.oxw(2);let e;t.xp6(1),t.Q6J("ngIf",(null==(e=n.formValidation.get("password"))?null:e.hasError(o.type))&&((null==(e=n.formValidation.get("password"))?null:e.dirty)||(null==(e=n.formValidation.get("password"))?null:e.touched)))}}function Z(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"form",2),t.NdJ("ngSubmit",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.tryRegister(e.formValidation.value))}),t.TgZ(2,"ion-item")(3,"ion-label",3),t._uU(4,"Email: "),t.qZA(),t._UZ(5,"ion-input",4),t.qZA(),t.TgZ(6,"div"),t.YNc(7,f,2,1,"ng-container",5),t.qZA(),t.TgZ(8,"ion-item")(9,"ion-label",3),t._uU(10,"Contrase\xf1a: "),t.qZA(),t._UZ(11,"ion-input",6),t.qZA(),t.TgZ(12,"div"),t.YNc(13,h,2,1,"ng-container",5),t.qZA(),t.TgZ(14,"div",7)(15,"ion-button",8),t._uU(16,"Registrarse"),t.qZA()(),t.TgZ(17,"div",9)(18,"ion-label",10),t._uU(19),t.qZA()()()()}if(2&i){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.formValidation),t.xp6(6),t.Q6J("ngForOf",o.formValidationMessages.email),t.xp6(6),t.Q6J("ngForOf",o.formValidationMessages.password),t.xp6(2),t.Q6J("disabled",!o.formValidation.valid),t.xp6(4),t.Oqu(o.errorMessage)}}const U=[{path:"",component:(()=>{class i{constructor(o,n,e,S){this.authService=o,this.formBuilder=n,this.router=e,this.toastController=S,this.errorMessage="",this.formValidationMessages={email:[{type:"required",message:"El email es un campo obligatorio."},{type:"pattern",message:"El formato del email no es correcto."}],password:[{type:"required",message:"La contrase\xf1a es un campo obligatorio."},{type:"minlength",message:"La l\xf3ngitud m\xednima de una contrase\xf1a es 6 caracteres."}]}}ngOnInit(){this.formValidation=this.formBuilder.group({email:new a.NI("",a.kI.compose([a.kI.required,a.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new a.NI("",a.kI.compose([a.kI.minLength(6),a.kI.required]))})}tryRegister(o){this.authService.doRegister(o).then(n=>(0,m.mG)(this,void 0,void 0,function*(){yield this.presentToast(),this.router.navigate(["/products"])}),n=>{this.errorMessage=n.message,console.log(n)})}presentToast(){return(0,m.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Registro exitoso",duration:2e3})).present()})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(p.e),t.Y36(a.qu),t.Y36(u.F0),t.Y36(r.yF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sign-up"]],decls:8,vars:1,consts:[["slot","start"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],["position","floating","color","primary"],["type","text","formControlName","email"],[4,"ngFor","ngForOf"],["type","password","formControlName","password"],[1,"div-button-login"],["type","submit","expand","block",1,"ion-text-center",3,"disabled"],[1,"div-label-error"],[1,"error-message"],["class","error-message",4,"ngIf"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Sign-up"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA()()(),t.TgZ(6,"ion-content"),t.YNc(7,Z,20,5,"div",1),t.qZA()),2&o&&(t.xp6(7),t.Q6J("ngIf",n.formValidation))},dependencies:[g.sg,g.O5,a._Y,a.JJ,a.JL,r.oU,r.YG,r.Sm,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.wd,r.sr,r.j9,r.cs,a.sg,a.u]}),i})()}];let _=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.Bz.forChild(U),u.Bz]}),i})(),x=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,a.u5,r.Pc,a.UX,_]}),i})()}}]);