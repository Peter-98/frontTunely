"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(L,u,s)=>{s.r(u),s.d(u,{LoginPageModule:()=>Z});var g=s(6895),a=s(433),r=s(2078),c=s(1194),o=s(4650),d=s(7556);function m(n,l){if(1&n&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.message," ")}}function p(n,l){if(1&n&&(o.ynx(0),o.YNc(1,m,2,1,"div",12),o.BQk()),2&n){const e=l.$implicit,i=o.oxw(2);let t;o.xp6(1),o.Q6J("ngIf",(null==i.formValidation||null==(t=i.formValidation.get("email"))?null:t.hasError(e.type))&&((null==(t=i.formValidation.get("email"))?null:t.dirty)||(null==(t=i.formValidation.get("email"))?null:t.touched)))}}function f(n,l){if(1&n&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.message," ")}}function v(n,l){if(1&n&&(o.ynx(0),o.YNc(1,f,2,1,"div",12),o.BQk()),2&n){const e=l.$implicit,i=o.oxw(2);let t;o.xp6(1),o.Q6J("ngIf",(null==(t=i.formValidation.get("password"))?null:t.hasError(e.type))&&((null==(t=i.formValidation.get("password"))?null:t.dirty)||(null==(t=i.formValidation.get("password"))?null:t.touched)))}}function _(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"form",2),o.NdJ("ngSubmit",function(){o.CHM(e);const t=o.oxw();return o.KtG(t.tryLogin(t.formValidation.value))}),o.TgZ(2,"ion-item")(3,"ion-label",3),o._uU(4,"Introduzca sus datos para acceder a la aplicaci\xf3n:"),o.qZA()(),o.TgZ(5,"ion-item")(6,"ion-label",4),o._uU(7,"Email: "),o.qZA(),o._UZ(8,"ion-input",5),o.qZA(),o.TgZ(9,"div"),o.YNc(10,p,2,1,"ng-container",6),o.qZA(),o.TgZ(11,"ion-item")(12,"ion-label",4),o._uU(13,"Contrase\xf1a: "),o.qZA(),o._UZ(14,"ion-input",7),o.qZA(),o.TgZ(15,"div"),o.YNc(16,v,2,1,"ng-container",6),o.qZA(),o.TgZ(17,"div",8)(18,"ion-button",9),o._uU(19,"Iniciar sesi\xf3n"),o.qZA()(),o.TgZ(20,"div",10)(21,"ion-label",11),o._uU(22),o.qZA()()()()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("formGroup",e.formValidation),o.xp6(9),o.Q6J("ngForOf",e.formValidationMessages.email),o.xp6(6),o.Q6J("ngForOf",e.formValidationMessages.password),o.xp6(2),o.Q6J("disabled",!e.formValidation.valid),o.xp6(4),o.Oqu(e.errorMessage)}}const h=[{path:"",component:(()=>{class n{constructor(e,i,t){this.authService=e,this.formBuilder=i,this.router=t,this.errorMessage="",this.formValidationMessages={email:[{type:"required",message:"El email es un campo obligatorio."},{type:"pattern",message:"El formato del email no es correcto."}],password:[{type:"required",message:"La contrase\xf1a es un campo obligatorio."},{type:"minlength",message:"La l\xf3ngitud m\xednima de una contrase\xf1a es 6 caracteres."}]}}ngOnInit(){this.formValidation=this.formBuilder.group({email:new a.NI("",a.kI.compose([a.kI.required,a.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new a.NI("",a.kI.compose([a.kI.minLength(6),a.kI.required]))})}tryLogin(e){this.authService.doLogin(e).then(i=>{this.router.navigate(["/products"])},i=>{this.errorMessage="auth/user-not-found"===i.code?"El usuario no existe.":"auth/wrong-password"===i.code?"Contrase\xf1a incorrecta.":i.message,console.log(i)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(d.e),o.Y36(a.qu),o.Y36(c.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:8,vars:1,consts:[["slot","start"],[4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"label-title"],["position","floating","color","primary"],["type","text","formControlName","email"],[4,"ngFor","ngForOf"],["type","password","formControlName","password"],[1,"div-button-login"],["type","submit",3,"disabled"],[1,"div-label-error"],[1,"error-message"],["class","error-message",4,"ngIf"]],template:function(e,i){1&e&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"Login"),o.qZA(),o.TgZ(4,"ion-buttons",0),o._UZ(5,"ion-back-button"),o.qZA()()(),o.TgZ(6,"ion-content"),o.YNc(7,_,23,5,"div",1),o.qZA()),2&e&&(o.xp6(7),o.Q6J("ngIf",i.formValidation))},dependencies:[g.sg,g.O5,a._Y,a.JJ,a.JL,r.oU,r.YG,r.Sm,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.wd,r.sr,r.j9,r.cs,a.sg,a.u],styles:[".form[_ngcontent-%COMP%]{margin-top:50px}.label-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:20px}.div-button-login[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.div-label-error[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:smaller;padding:10px}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[c.Bz.forChild(h),c.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g.ez,a.u5,r.Pc,a.UX,x]}),n})()}}]);