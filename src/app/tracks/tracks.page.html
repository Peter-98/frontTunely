<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start"> 
      <ion-back-button defaultHref="trackslist" ></ion-back-button> 
    </ion-buttons>
    <ion-title>Tracks</ion-title>
    <ion-button color="light" type="button" slot="end" [disabled]="!selected.length" (click)="sendSelectedResults()">
      <ion-icon name="save-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>

</ion-header>
<ion-content>

  <ion-list class="ion-no-padding">
    <ion-card *ngFor="let item of (results | async); let i = index"
      [class.selected]="isSelected(i)" (click)="isSelected(i) ? toggleSelected(i) : viewDetails(item)">
      <img [src]="item.image" />
      <ion-card-header>
        <ion-card-title>{{ item.name }}</ion-card-title>
        <ion-card-subtitle>{{ item.artist }}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-button color="success" expand="block" (click)="toggleSelected(i); $event.stopPropagation()">
          {{isSelected(i) ? "REMOVE" : "ADD"}}
        </ion-button>
      </ion-card-content>
    </ion-card>
  </ion-list>
  
</ion-content>

